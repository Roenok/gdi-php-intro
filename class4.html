<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Class 4 ~ Intro to PHP ~ Girl Develop It</title>

    <meta name="description" content="This is the official Girl Develop It PHP, initially developed by Sylvia Pellicore.

    The course is meant to be taught in 4 two-hour sections. Each of the slides and practice files are customizable according to the needs of a given class or audience">
    <meta name="author" content="Girl Develop It">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">

    <!-- For syntax highlighting -->
    <!-- light editor --><link rel="stylesheet" href="lib/css/light.css">
    <!-- dark editor <link rel="stylesheet" href="lib/css/dark.css">-->
    <!-- <link rel="stylesheet" href="lib/css/zenburn.css"> -->

    <link rel="stylesheet" href="plugin/accessibility-helper/css/accessibility-helper.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <!-- If use the PDF print sheet so students can print slides-->

    <link rel="stylesheet" href="css/print/pdf.css" type="text/css" media="print">
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <img src="img/circle-gdi-logo.png" alt="BDI Logo" class="noborder" style="max-height:400px;">
          <h1>Introduction to PHP</h1>
          <h2>Class 4</h2>
        </section>

      <section>
        <section>
          <h3>HTTP Requests</h3>
          <img src="img/client-server.jpg" alt="Laptop and server connected via the internet"/>
          <p><small>Photo credits: <a href="http://www.flickr.com/photos/papalars/5210226441/" target="_blank">Andrew E. Larson</a> and <a href="http://www.flickr.com/photos/johnseb/3425464/" target="_blank">John Seb Barber</a> <a href="http://creativecommons.org/licenses/by-nc/2.0/" target="_blank">cc</a></small></p>
        </section>
        <section>
          <h3>HTTP Requests</h3>
          <ul>
            <li>HTTP (<strong>H</strong>yper<strong>t</strong>ext <strong>T</strong>ransfer <strong>P</strong>rotocol) is a way browsers and servers communicate</li>
            <li>It's the most common communication protocol on the web. That's why web addresses start with http://</li>
            <li>The most common types of requests are GET and POST. GET requests data from a specific resource. POST submits data to a specified resource.</li>
            <li>When you send a PHP server a GET or POST request, you can use PHP to capture some information from the request.</li>
          </ul>
        </section>
        <section>
          <h3>GET vs. POST</h3>
          <h4>GET</h4>
          <ul>
            <li>GET requests include all information in the URL, and can be bookmarked</li>
            <li>GET requests are visible to everyone.</li>
            <li>GET requests are good for showing different information on the same template.</li>
          </ul>
          <h4>POST</h4>
          <ul>
            <li>POST requests send information as part of a the request directly. They can't be bookmarked</li>
            <li>POST requests are invisible to others.</li>
            <li>POST requests are great for forms.</li>
          </ul>
        </section>
        <section>
          <h3>Let's Develop It</h3>
          <p>We're going to practice retrieving data from requests to gather information from your users. We'll need a few more files.<a href="class4-codesample.zip">Download a copy of today's practice files</a> and unzip them directly into your gdi folder.</li>
        </section>
      </section>

      <section>
        <section>
          <h3>User Input</h3>
          <img src="img/comment-box.jpg" alt="Comment box"/>
          <p class="credit">Photo credit: <a href="https://flic.kr/p/fnZ4RT" target="_blank">Rym DeCoster</a> <a href="http://creativecommons.org/licenses/by-nc/2.0/" target="_blank">cc</a></p>
        </section>
        <section>
          <h3>URL Parameters</h3>
          <p>You use URL parameters to send information via GET request. URL parameters go at the end of a URL. Parameters use the form <code>?var1=val1&amp;var2=val2&amp;...</code>. For example, you could send a first and last name like this:</p>
<pre><code class="php">http://example.com/index.php?firstname=ada&amp;lastname=lovelace
</code></pre>
        </section>
        <section>
          <h3>Super Globals</h3>
          <p>Remember global and local variables? PHP has a special class of variables called superglobals. Superglobals are built-in variables that are always available in all scopes. <code>$_GET</code> is a superglobal that contains all the information from a GET request.</p>
        </section>
        <section>
          <h3>Using $_GET</h3>
          <p>To retrieve the first name and last name values from this url:</p>
<pre><code class="php">http://example.com/index.php?firstname=ada&amp;lastname=lovelace
</code></pre>
          <p>You can use $_GET</p>
<pre><code class="php">$firstName = htmlspecialchars($_GET["firstname"]);
$lastName = htmlspecialchars($_GET["lastname"]);
</code></pre>
          <p>Using <code>$_GET["urlparameter"]</code> retrieves the value from the $_GET superglobal. The function <code>htmlspecialchars</code> is a built-in function to help clean up user data.</p>
        </section>
        <section>
          <h3>Let's Develop It</h3>
          <p>Let's practice using $_GET.</p>
          <ol>
            <li>Go to <a href="http://localhost/gdi/mycats.php" target="_blank">the cats list page.</a> You should see a list of cat names, with links.</li>
            <li>Hover over one of the links. You should see a long URL, like this: catdetails.php?name=Caramel&amp;furcolor=Calico&amp;age=3&amp;personality=Sweet.</li>
            <li>Click on a link. It will take you to a template page without any information.</li>
            <li>Open up catdeatils.php. Modify the code of this page to use the $_GET variable to retrieve the information from the URL and store it in variables.</li>
            <li>Display the variables in the table</li>
          </ol>
        </section>
      </section>

      <section>
        <section>
          <h3>HTML Forms</h3>
          <p>A simple HTML form may look something like this:</p>
<pre><code class="html">&lt;form action="myform.php" method="post"&gt;
  &lt;label for="question"&gt;A question?&lt;/label&gt;
  &lt;input type="text" name="question" maxlength="50"&gt;
  &lt;input type="submit" id="formSubmit" value="Submit"&gt;
&lt;/form&gt;
</code></pre>
        <p>The <strong>action</strong> attribute tells the browser where to send the form. The <strong>method</strong> attribute tells the browser what type of HTTP request to use. In this case, when the user selects the submit button, the browser will send the form data to myform.php in a POST request.</p>
        </section>
        <section>
          <h3>Using $_POST</h3>
          <p><code>$_POST</code> is a superglobal variable, just like $_GET. When a user submits a form, the $_POST variable will store information based on the name (not id!) of the HTML form field. So to retrieve data from this field:</p>
<pre><code class="html">&lt;input type="text" name="question"&gt;
</code></pre>
          <p>You would use this code:
<pre><code class="php">$question = htmlspecialchars($_POST["question"]);
</code></pre>
          <p>Using <code>$_POST["fieldname"]</code> retrieves the value from the $_POST superglobal.</p>
        </section>
        <section>
          <h3>Using POST on forms</h3>
          <p>There are two common ways to submit a form with PHP:</p>
          <ol>
            <li>Submit the form data to a seperate form-processing page, like a thank you or confirmation page.</li>
            <li>Submit the form to the same page the form is on.</li>
          </ol>
        </section>
        <section>
          <h3>Checking the request type</h3>
          <p>If you are submitting a form to the same PHP file, you can use an if statement to wrap your form-processing script:</p>
<pre><code class="php">if ($_SERVER["REQUEST_METHOD"] == "POST") {
  //Process the form data and display results
}
</code></pre>
        </section>
        <section>
          <h3>Let's Develop It</h3>
          <p>Using <a href="http://localhost/gdi/myform.php" target="_blank">a sample form</a> we'll process some user-submitted data. This is a big task. Work piece by piece and test as you go.</p>
          <ol>
            <li>Open the file myform.php and find the two fields on the form. The form submits to the same page using POST</li>
            <li>Add code to retrieve data from the form. Don't forget your if statement!</li>
            <li>Add code to calculate the final bill</li>
            <li>Add code to display the results somewhere on the page</li>
          </ol>
        </section>
      </section>
      <section>
        <section>
          <h3>Cookies</h3>
          <img src="img/cookies.jpg" alt="Cookies on a computer keyboard"/>
          <p class="credit">Photo credit: <a href="https://flic.kr/p/PE7Wvc" target="_blank">Theo Crazzolara</a> <a href="http://creativecommons.org/licenses/by-nc/2.0/" target="_blank">cc</a></p>
        </section>
        <section>
          <h3>Cookies</h3>
          <ul>
            <li>A cookie is small piece of data stored on a user's computer</li>
            <li>Each time the same browser requests a page, it will send the cookie too</li>
            <li>Often used to track data like logins or shopping carts</li>
            <li>The user's browser must voluntarily accept the cookie. The browser settings control this.</li>
          </ul>
        </section>
        <section>
          <h3>Cookies in PHP</h3>
          <p>PHP has built in features to set and read cookies. This uses a special superglobal, <code>$_COOKIE</code>. When we add vaues to this superglobal, PHP will also send the cookie to the user's computer.<p>
        </section>
        <section>
          <h3>Setting Cookies</h3>
          <p>The basic values used to set a cookie are:</p>
          <ul>
            <li><strong>Name:</strong> The name of the cookie. Usually something like user or cart</li>
            <li><strong>Value:</strong> The value of the cookie, such a user's id or cart number</li>
            <li><strong>Expire:</strong> When the cookie should be deleted from the user's computer</li>
            <li><strong>Path:</strong> What parts of the site it should apply to. / means the entire site, /folder will only apply in that directory</li>
          </ul>
        </section>
        <section>
          <h3>Setting Cookies</h3>
          <p>The basic syntax is:</p>
<pre><code class="php">setcookie(name, value, expire, path)
</code></pre>
          <p>For example:</p>
<pre><code class="php">$cookie_name = "username";
$cookie_value = "Grace Hopper";
$cookie_time = time() + (86400 * 30); /*The current time, plus 30 days.
The time stamp is in seconds, and there are 86400 seconds in one day*/
setcookie($cookie_name, $cookie_value, $cookie_time, "/");
</code></pre>
        </section>
        <section>
          <h3>Reading Cookies</h3>
          <p>We can use the <code>isset()</code> function to check to see if cookies exist. If they do, we can retrieve the information from the superglobal.</p>
<pre><code class="php">if(!isset($_COOKIE[$cookie_name])) {
    echo "Cookie named $cookie_name is not set!";
} else {
    echo "Cookie $cookie_name is set!&lt;br /&gt;";
    echo "Value is: " . $_COOKIE[$cookie_name];
}
</code></pre>
        </section>
        <section>
          <h3>Let's Develop It</h3>
          <p>Set a cookie on one of your pages. Then see if you can retrieve the value on a different page.</p>
        </section>
      </section>

      <!-- Final slides-->
      <section id="final">
        <section>
          <h3>You did it!</h3>
          <img src="img/jumping-man.jpg" alt="Man jumping in air"/>
          <p class="credit">Photo credit: <a href="http://www.flickr.com/photos/sunface13/988453859/" target="_blank">sunface13</a> <a href="http://creativecommons.org/licenses/by-nc/2.0/" target="_blank">cc</a></p>
        </section>
        <section>
          <h3>Resources</h3>
          <ul>
          <li><a href="http://www.php.net/manual/en/" target="_blank">PHP Manual</a>, the official PHP documentation. Check the comments; they are useful.</li>
          <li><a href="http://www.codecademy.com/tracks/php" target="_blank">Code Academy</a>, with interactive PHP lessons to help you review.</li>
          </ul>
        </section>
      </section>

      </div>
      <footer>
        <div class="copyright">
          Intro to PHP ~ Girl Develop It <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/80x15.png" /></a>
        </div>
      </footer>
    </div>


    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/accessibility-helper/js/accessibility-helper.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
